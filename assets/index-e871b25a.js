(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function N(){}const we=e=>e;function ge(e,n){for(const t in n)e[t]=n[t];return e}function ke(e){return e()}function ye(){return Object.create(null)}function $(e){e.forEach(ke)}function Me(e){return typeof e=="function"}function xe(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function Ce(e){return Object.keys(e).length===0}function Oe(e,...n){if(e==null)return N;const t=e.subscribe(...n);return t.unsubscribe?()=>t.unsubscribe():t}function Ne(e,n,t){e.$$.on_destroy.push(Oe(n,t))}const Ae=typeof window<"u";let ve=Ae?()=>window.performance.now():()=>Date.now(),Ie=Ae?e=>requestAnimationFrame(e):N;const W=new Set;function Pe(e){W.forEach(n=>{n.c(e)||(W.delete(n),n.f())}),W.size!==0&&Ie(Pe)}function De(e){let n;return W.size===0&&Ie(Pe),{promise:new Promise(t=>{W.add(n={c:e,f:t})}),abort(){W.delete(n)}}}function f(e,n){e.appendChild(n)}function he(e,n,t){e.insertBefore(n,t||null)}function oe(e){e.parentNode&&e.parentNode.removeChild(e)}function A(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e){return document.createTextNode(e)}function F(){return Y(" ")}function O(e,n,t,i){return e.addEventListener(n,t,i),()=>e.removeEventListener(n,t,i)}function r(e,n,t){t==null?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function Le(e){return Array.from(e.childNodes)}function se(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}let J;function Z(e){J=e}function Se(){if(!J)throw new Error("Function called outside component initialization");return J}function Re(e){Se().$$.on_mount.push(e)}const V=[],ce=[],re=[],me=[],je=Promise.resolve();let ue=!1;function ze(){ue||(ue=!0,je.then(Ee))}function fe(e){re.push(e)}const ie=new Set;let H=0;function Ee(){if(H!==0)return;const e=J;do{try{for(;H<V.length;){const n=V[H];H++,Z(n),Be(n.$$)}}catch(n){throw V.length=0,H=0,n}for(Z(null),V.length=0,H=0;ce.length;)ce.pop()();for(let n=0;n<re.length;n+=1){const t=re[n];ie.has(t)||(ie.add(t),t())}re.length=0}while(V.length);for(;me.length;)me.pop()();ue=!1,ie.clear(),Z(e)}function Be(e){if(e.fragment!==null){e.update(),$(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(fe)}}const Ue=new Set;function qe(e,n){e&&e.i&&(Ue.delete(e),e.i(n))}function Ge(e,n,t,i){const{fragment:o,after_update:l}=e.$$;o&&o.m(n,t),i||fe(()=>{const s=e.$$.on_mount.map(ke).filter(Me);e.$$.on_destroy?e.$$.on_destroy.push(...s):$(s),e.$$.on_mount=[]}),l.forEach(fe)}function Fe(e,n){const t=e.$$;t.fragment!==null&&($(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Ke(e,n){e.$$.dirty[0]===-1&&(V.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Ye(e,n,t,i,o,l,s,c=[-1]){const p=J;Z(e);const u=e.$$={fragment:null,ctx:[],props:l,update:N,not_equal:o,bound:ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:ye(),dirty:c,skip_bound:!1,root:n.target||p.$$.root};s&&s(u.root);let d=!1;if(u.ctx=t?t(e,n.props||{},(y,w,...b)=>{const g=b.length?b[0]:w;return u.ctx&&o(u.ctx[y],u.ctx[y]=g)&&(!u.skip_bound&&u.bound[y]&&u.bound[y](g),d&&Ke(e,y)),w}):[],u.update(),d=!0,$(u.before_update),u.fragment=i?i(u.ctx):!1,n.target){if(n.hydrate){const y=Le(n.target);u.fragment&&u.fragment.l(y),y.forEach(oe)}else u.fragment&&u.fragment.c();n.intro&&qe(e.$$.fragment),Ge(e,n.target,n.anchor,n.customElement),Ee()}Z(p)}class Xe{$destroy(){Fe(this,1),this.$destroy=N}$on(n,t){if(!Me(t))return N;const i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(t),()=>{const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}$set(n){this.$$set&&!Ce(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const Q=[];function He(e,n=N){let t;const i=new Set;function o(c){if(xe(e,c)&&(e=c,t)){const p=!Q.length;for(const u of i)u[1](),Q.push(u,e);if(p){for(let u=0;u<Q.length;u+=2)Q[u][0](Q[u+1]);Q.length=0}}}function l(c){o(c(e))}function s(c,p=N){const u=[c,p];return i.add(u),i.size===1&&(t=n(o)||N),c(e),()=>{i.delete(u),i.size===0&&(t(),t=null)}}return{set:o,update:l,subscribe:s}}function be(e){return Object.prototype.toString.call(e)==="[object Date]"}function ae(e,n){if(e===n||e!==e)return()=>e;const t=typeof e;if(t!==typeof n||Array.isArray(e)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const i=n.map((o,l)=>ae(e[l],o));return o=>i.map(l=>l(o))}if(t==="object"){if(!e||!n)throw new Error("Object cannot be null");if(be(e)&&be(n)){e=e.getTime(),n=n.getTime();const l=n-e;return s=>new Date(e+s*l)}const i=Object.keys(n),o={};return i.forEach(l=>{o[l]=ae(e[l],n[l])}),l=>{const s={};return i.forEach(c=>{s[c]=o[c](l)}),s}}if(t==="number"){const i=n-e;return o=>e+o*i}throw new Error(`Cannot interpolate ${t} values`)}function Qe(e,n={}){const t=He(e);let i,o=e;function l(s,c){if(e==null)return t.set(e=s),Promise.resolve();o=s;let p=i,u=!1,{delay:d=0,duration:y=400,easing:w=we,interpolate:b=ae}=ge(ge({},n),c);if(y===0)return p&&(p.abort(),p=null),t.set(e=o),Promise.resolve();const g=ve()+d;let B;return i=De(a=>{if(a<g)return!0;u||(B=b(e,s),typeof y=="function"&&(y=y(e,s)),u=!0),p&&(p.abort(),p=null);const M=a-g;return M>y?(t.set(e=s),!1):(t.set(e=B(w(M/y))),!0)}),i.promise}return{set:l,update:(s,c)=>l(s(o,e),c),subscribe:t.subscribe}}function Ve(e){let n,t,i,o,l,s,c;return{c(){n=A("div"),t=A("div"),i=A("span"),i.textContent="Time is up!",o=F(),l=A("button"),l.textContent="New game",r(i,"class","svelte-1etb2i9"),r(l,"class","svelte-1etb2i9"),r(t,"class","svelte-1etb2i9"),r(n,"class","gameResult svelte-1etb2i9")},m(p,u){he(p,n,u),f(n,t),f(t,i),f(t,o),f(t,l),s||(c=O(l,"click",e[8]),s=!0)},p:N,d(p){p&&oe(n),s=!1,c()}}}function We(e){let n,t,i,o,l,s,c;return{c(){n=A("div"),t=A("div"),i=A("span"),i.textContent="You won!",o=F(),l=A("button"),l.textContent="New game",r(i,"class","svelte-1etb2i9"),r(l,"class","svelte-1etb2i9"),r(t,"class","svelte-1etb2i9"),r(n,"class","gameResult svelte-1etb2i9")},m(p,u){he(p,n,u),f(n,t),f(t,i),f(t,o),f(t,l),s||(c=O(l,"click",e[8]),s=!0)},p:N,d(p){p&&oe(n),s=!1,c()}}}function Ze(e){let n,t,i,o,l,s,c,p,u,d,y,w,b,g,B,a,M,P,v,D,L,ee,E,S,R,j,te,T,h,m,_,C,z,U,q,G,le,de;function pe(x,K){if(x[3]==="won"&&!x[0])return We;if(x[3]==="lost"&&!x[0])return Ve}let X=pe(e),I=X&&X(e);return{c(){n=A("main"),t=A("div"),i=A("span"),o=Y("Coins: "),l=Y(e[2]),s=Y(" / "),c=Y(e[4]),p=F(),u=A("span"),d=Y("Time left: "),y=Y(e[5]),w=F(),b=A("div"),g=A("canvas"),B=F(),I&&I.c(),a=F(),M=A("div"),P=k("svg"),v=k("line"),D=k("line"),L=k("line"),ee=F(),E=k("svg"),S=k("line"),R=k("line"),j=k("line"),te=F(),T=k("svg"),h=k("line"),m=k("line"),_=k("line"),C=F(),z=k("svg"),U=k("line"),q=k("line"),G=k("line"),r(t,"class","gameInformation svelte-1etb2i9"),r(g,"width",300),r(g,"height",300),r(b,"class","canvasContainer svelte-1etb2i9"),r(v,"x1","50"),r(v,"y1","90"),r(v,"x2","50"),r(v,"y2","10"),r(v,"stroke","black"),r(v,"stroke-width","5"),r(v,"stroke-linecap","round"),r(D,"x1","50"),r(D,"y1","10"),r(D,"x2","25"),r(D,"y2","35"),r(D,"stroke","black"),r(D,"stroke-width","5"),r(D,"stroke-linecap","round"),r(L,"x1","50"),r(L,"y1","10"),r(L,"x2","75"),r(L,"y2","35"),r(L,"stroke","black"),r(L,"stroke-width","5"),r(L,"stroke-linecap","round"),r(P,"width",100),r(P,"height",100),r(P,"viewBox","0 0 100 100"),r(P,"class","up svelte-1etb2i9"),r(S,"x1","90"),r(S,"y1","50"),r(S,"x2","10"),r(S,"y2","50"),r(S,"stroke","black"),r(S,"stroke-width","5"),r(S,"stroke-linecap","round"),r(R,"x1","10"),r(R,"y1","50"),r(R,"x2","35"),r(R,"y2","25"),r(R,"stroke","black"),r(R,"stroke-width","5"),r(R,"stroke-linecap","round"),r(j,"x1","10"),r(j,"y1","50"),r(j,"x2","35"),r(j,"y2","75"),r(j,"stroke","black"),r(j,"stroke-width","5"),r(j,"stroke-linecap","round"),r(E,"width",100),r(E,"height",100),r(E,"viewBox","0 0 100 100"),r(E,"class","left svelte-1etb2i9"),r(h,"x1","50"),r(h,"y1","10"),r(h,"x2","50"),r(h,"y2","90"),r(h,"stroke","black"),r(h,"stroke-width","5"),r(h,"stroke-linecap","round"),r(m,"x1","50"),r(m,"y1","90"),r(m,"x2","25"),r(m,"y2","65"),r(m,"stroke","black"),r(m,"stroke-width","5"),r(m,"stroke-linecap","round"),r(_,"x1","50"),r(_,"y1","90"),r(_,"x2","75"),r(_,"y2","65"),r(_,"stroke","black"),r(_,"stroke-width","5"),r(_,"stroke-linecap","round"),r(T,"width",100),r(T,"height",100),r(T,"viewBox","0 0 100 100"),r(T,"class","down svelte-1etb2i9"),r(U,"x1","10"),r(U,"y1","50"),r(U,"x2","90"),r(U,"y2","50"),r(U,"stroke","black"),r(U,"stroke-width","5"),r(U,"stroke-linecap","round"),r(q,"x1","90"),r(q,"y1","50"),r(q,"x2","65"),r(q,"y2","25"),r(q,"stroke","black"),r(q,"stroke-width","5"),r(q,"stroke-linecap","round"),r(G,"x1","90"),r(G,"y1","50"),r(G,"x2","65"),r(G,"y2","75"),r(G,"stroke","black"),r(G,"stroke-width","5"),r(G,"stroke-linecap","round"),r(z,"width",100),r(z,"height",100),r(z,"viewBox","0 0 100 100"),r(z,"class","right svelte-1etb2i9"),r(M,"class","arrows svelte-1etb2i9"),r(n,"class","svelte-1etb2i9")},m(x,K){he(x,n,K),f(n,t),f(t,i),f(i,o),f(i,l),f(i,s),f(i,c),f(t,p),f(t,u),f(u,d),f(u,y),f(n,w),f(n,b),f(b,g),e[17](g),f(b,B),I&&I.m(b,null),f(n,a),f(n,M),f(M,P),f(P,v),f(P,D),f(P,L),f(M,ee),f(M,E),f(E,S),f(E,R),f(E,j),f(M,te),f(M,T),f(T,h),f(T,m),f(T,_),f(M,C),f(M,z),f(z,U),f(z,q),f(z,G),le||(de=[O(window,"keydown",e[15]),O(window,"keyup",e[16]),O(P,"touchstart",e[18]),O(P,"touchend",e[19]),O(E,"touchstart",e[20]),O(E,"touchend",e[21]),O(T,"touchstart",e[22]),O(T,"touchend",e[23]),O(z,"touchstart",e[24]),O(z,"touchend",e[25])],le=!0)},p(x,[K]){K&4&&se(l,x[2]),K&16&&se(c,x[4]),K&32&&se(y,x[5]),X===(X=pe(x))&&I?I.p(x,K):(I&&I.d(1),I=X&&X(x),I&&(I.c(),I.m(b,null)))},i:N,o:N,d(x){x&&oe(n),e[17](null),I&&I.d(),le=!1,$(de)}}}const ne=100;function Je(e){for(let n=e.length-1;n>0;n--){let t=Math.floor(Math.random()*(n+1)),i=e[n];e[n]=e[t],e[t]=i}}function Te(e,n,t){e[n][t]="empty";let i=[[n,t-2],[n,t+2],[n-2,t],[n+2,t]].filter(([o,l])=>0<=o&&o<e.length&&0<=l&&l<e[0].length);Je(i),i.forEach(([o,l])=>{e[o][l]!=="empty"&&(e[(n+o)/2][(t+l)/2]="empty",Te(e,o,l))})}function _e(){let e=[];for(let l=0;l<21;l++){e.push([]);for(let s=0;s<21;s++)e[l].push("block")}Te(e,0,0);let n=[];for(let l=0;l<21;l+=2)for(let s=0;s<21;s+=2){if(l===0&&s===0)continue;[[l,s-1],[l,s+1],[l-1,s],[l+1,s]].filter(([p,u])=>0<=p&&p<e.length&&0<=u&&u<e[0].length&&e[p][u]==="empty").length===1&&n.push([l,s])}let[t,i]=n[Math.floor(Math.random()*n.length)];e[t][i]="goal";let o=0;for(let l=0;l<21;l++)for(let s=0;s<21;s++)l===0&&s===0||e[l][s]!=="empty"||Math.random()<.02&&(e[l][s]="coin",o+=1);return[e,o]}function $e(e,n,t){let i,[o,l]=_e(),s=0,c=0,p=Qe({x:0,y:0},{duration:190,easing:we});Ne(e,p,h=>t(14,i=h));let u=!1,d=null,y=0,w="playing",b=ne,g=null,B,a;Re(()=>{t(13,a=B.getContext("2d"));let h=Date.now();return t(12,g=setInterval(()=>{t(5,b=Math.max(0,ne-Math.floor((Date.now()-h)/1e3))),b===0&&g!==null&&(clearInterval(g),t(12,g=null),w==="playing"&&t(3,w="lost"))},990)),()=>{g!==null&&(clearInterval(g),t(12,g=null))}});function M(){t(9,[o,l]=_e(),o,t(4,l)),t(10,s=0),t(11,c=0),p.set({x:0,y:0},{duration:0}),t(0,u=!1),t(1,d=null),t(2,y=0),t(3,w="playing"),t(5,b=ne),g&&clearInterval(g);let h=Date.now();t(12,g=setInterval(()=>{t(5,b=Math.max(0,ne-Math.floor((Date.now()-h)/1e3))),b===0&&g!==null&&(clearInterval(g),t(12,g=null),w==="playing"&&t(3,w="lost"))},990))}const P=h=>{switch(h.key){case"w":case"a":case"s":case"d":case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":t(1,d=h.key)}},v=h=>{h.key===d&&t(1,d=null)};function D(h){ce[h?"unshift":"push"](()=>{B=h,t(6,B)})}const L=h=>{t(1,d="Up")},ee=h=>{d==="Up"&&t(1,d=null)},E=h=>{t(1,d="Left")},S=h=>{d==="Left"&&t(1,d=null)},R=h=>{t(1,d="Down")},j=h=>{d==="Down"&&t(1,d=null)},te=h=>{t(1,d="Right")},T=h=>{d==="Right"&&t(1,d=null)};return e.$$.update=()=>{if(e.$$.dirty&7695&&d&&w==="playing"&&!u&&(d==="w"||d==="Up"||d==="ArrowUp"?c>0&&o[c-1][s]!=="block"&&t(11,c--,c):d==="a"||d==="Left"||d==="ArrowLeft"?s>0&&o[c][s-1]!=="block"&&t(10,s--,s):d==="s"||d==="Down"||d==="ArrowDown"?c+1<o.length&&o[c+1][s]!=="block"&&t(11,c++,c):(d==="d"||d==="Right"||d==="ArrowRight")&&s+1<o[0].length&&o[c][s+1]!=="block"&&t(10,s++,s),t(0,u=!0),p.set({x:s,y:c}).then(()=>{if(t(0,u=!1),o[c][s]==="goal"){t(3,w="won"),g!==null&&(clearInterval(g),t(12,g=null));return}o[c][s]==="coin"&&(t(9,o[c][s]="empty",o),t(2,y++,y))})),e.$$.dirty&28160&&a){a.clearRect(0,0,300,300);for(let h=-3;h<=3;h++)for(let m=-3;m<=3;m++)if(s+h<0||s+h>=o[0].length||c+m<0||c+m>=o.length||o[c+m][s+h]==="block")t(13,a.fillStyle="rgb(160, 83, 28)",a),a.fillRect(Math.floor((h+2-i.x+s)*60),Math.floor((m+2-i.y+c)*60),60,60);else if(o[c+m][s+h]==="goal")t(13,a.fillStyle="rgb(11, 128, 0)",a),a.fillRect(Math.floor((h+2-i.x+s)*60),Math.floor((m+2-i.y+c)*60),60,60);else if(o[c+m][s+h]==="coin"){t(13,a.fillStyle="rgb(255, 187, 0)",a);let _=Math.floor((h+2-i.x+s)*60),C=Math.floor((m+2-i.y+c)*60);a.beginPath(),a.moveTo(_+20,C+15),a.lineTo(_+40,C+15),a.arc(_+40,C+20,5,-Math.PI/2,0),a.lineTo(_+45,C+40),a.arc(_+40,C+40,5,0,Math.PI/2),a.lineTo(_+20,C+45),a.arc(_+20,C+40,5,Math.PI/2,Math.PI),a.lineTo(_+15,C+20),a.arc(_+20,C+20,5,Math.PI,Math.PI*3/2),a.fill()}t(13,a.fillStyle="blue",a),a.beginPath(),a.moveTo(130,125),a.lineTo(170,125),a.arc(170,130,5,-Math.PI/2,0),a.lineTo(175,170),a.arc(170,170,5,0,Math.PI/2),a.lineTo(130,175),a.arc(130,170,5,Math.PI/2,Math.PI),a.lineTo(125,130),a.arc(130,130,5,Math.PI,Math.PI*3/2),a.fill()}},[u,d,y,w,l,b,B,p,M,o,s,c,g,a,i,P,v,D,L,ee,E,S,R,j,te,T]}class et extends Xe{constructor(n){super(),Ye(this,n,$e,Ze,xe,{})}}new et({target:document.getElementById("app")});
